{
  "_format": "hh-sol-artifact-1",
  "contractName": "WikiPay",
  "sourceName": "contracts/WikiPay.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "ArticlePublished",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "nullifier",
          "type": "bytes32"
        }
      ],
      "name": "ArticleUnlocked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "EarningsWithdrawn",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "MAX_PRICE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MIN_PRICE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "articles",
      "outputs": [
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalUnlocks",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "preview",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "encryptedContent",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "creatorEarnings",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        }
      ],
      "name": "getArticle",
      "outputs": [
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalUnlocks",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "preview",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        }
      ],
      "name": "getCreatorEarnings",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTotalArticles",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "nullifier",
          "type": "bytes32"
        }
      ],
      "name": "isNullifierUsed",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextArticleId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "nullifiersUsed",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "preview",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "encryptedContent",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "publishArticle",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "nullifier",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "proof",
          "type": "bytes"
        }
      ],
      "name": "unlockArticleAnonymous",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "withdrawEarnings",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610eaf806100206000396000f3fe6080604052600436106100c25760003560e01c806385c3ab541161007f578063b73c6ce911610059578063b73c6ce914610222578063bd85d86714610237578063edcfafe614610267578063fa3c30a81461029857600080fd5b806385c3ab54146101d1578063ad9f20a6146101e7578063afe545e51461020257600080fd5b806301c11d96146100c75780630ebf1d3d146100f657806322dc7b4c1461010b5780634b27cd6f1461014b57806365e9dcca1461017b578063804396af1461019b575b600080fd5b3480156100d357600080fd5b506100e367016345785d8a000081565b6040519081526020015b60405180910390f35b34801561010257600080fd5b506003546100e3565b34801561011757600080fd5b5061013b610126366004610a34565b60009081526001602052604090205460ff1690565b60405190151581526020016100ed565b34801561015757600080fd5b5061013b610166366004610a34565b60016020526000908152604090205460ff1681565b61018e610189366004610a4d565b6102c5565b6040516100ed9190610b13565b3480156101a757600080fd5b506100e36101b6366004610b2d565b6001600160a01b031660009081526002602052604090205490565b3480156101dd57600080fd5b506100e360035481565b3480156101f357600080fd5b506100e3662386f26fc1000081565b34801561020e57600080fd5b506100e361021d366004610bf9565b610569565b34801561022e57600080fd5b506100e36106c5565b34801561024357600080fd5b50610257610252366004610a34565b6107f6565b6040516100ed9493929190610c66565b34801561027357600080fd5b50610287610282366004610a34565b6108cb565b6040516100ed959493929190610c9d565b3480156102a457600080fd5b506100e36102b3366004610b2d565b60026020526000908152604090205481565b60008381526001602052604090205460609060ff16156103465760405162461bcd60e51b815260206004820152603160248201527f4e756c6c696669657220616c72656164792075736564202861727469636c6520604482015270616c726561647920756e6c6f636b65642960781b60648201526084015b60405180910390fd5b600085815260208190526040902080546001600160a01b03166103a45760405162461bcd60e51b8152602060048201526016602482015275105c9d1a58db1948191bd95cc81b9bdd08195e1a5cdd60521b604482015260640161033d565b80600101543410156103ef5760405162461bcd60e51b8152602060048201526014602482015273125b9cdd59999a58da595b9d081c185e5b595b9d60621b604482015260640161033d565b6103fb84848888610a16565b6104475760405162461bcd60e51b815260206004820152601c60248201527f496e76616c6964207a65726f2d6b6e6f776c656467652070726f6f6600000000604482015260640161033d565b6000858152600160208181526040808420805460ff191690931790925583546001600160a01b031683526002905281208054349290610487908490610cfe565b909155505060028101805490600061049e83610d17565b9091555050604051859087907fa8f0dd4c86d6fa5b52e5ddd9b91a8e742d96e29ac64185df467cec99a1e7a90690600090a38060040180546104df90610d30565b80601f016020809104026020016040519081016040528092919081815260200182805461050b90610d30565b80156105585780601f1061052d57610100808354040283529160200191610558565b820191906000526020600020905b81548152906001019060200180831161053b57829003601f168201915b50505050509150505b949350505050565b6000662386f26fc10000821015801561058a575067016345785d8a00008211155b6105e65760405162461bcd60e51b815260206004820152602760248201527f5072696365206d757374206265206265747765656e20302e303120616e64203060448201526605c6260408aa8960cb1b606482015260840161033d565b60038054600091826105f783610d17565b909155506040805160a08101825233815260208082018781526000838501818152606085018c8152608086018c905287835293829052949020835181546001600160a01b0319166001600160a01b0390911617815590516001820155925160028401555192935091600382019061066e9082610db9565b50608082015160048201906106839082610db9565b505060405184815233915082907ff14213347fd705a3c6a16d98e378b1628ccf34a36aee29f2aa34a653aa027c629060200160405180910390a3949350505050565b33600090815260026020526040812054806107225760405162461bcd60e51b815260206004820152601760248201527f4e6f206561726e696e677320746f207769746864726177000000000000000000604482015260640161033d565b336000818152600260205260408082208290555190919083908381818185875af1925050503d8060008114610773576040519150601f19603f3d011682016040523d82523d6000602084013e610778565b606091505b50509050806107bb5760405162461bcd60e51b815260206004820152600f60248201526e151c985b9cd9995c8819985a5b1959608a1b604482015260640161033d565b60405182815233907f48dc35af7b45e2a81fffad55f6e2fafacdb1d3d0d50d24ebdc16324f5ba757f19060200160405180910390a250919050565b60008181526020819052604081208054600182015460028301546003840180548695869560609591946001600160a01b03909116939192909190819061083b90610d30565b80601f016020809104026020016040519081016040528092919081815260200182805461086790610d30565b80156108b45780601f10610889576101008083540402835291602001916108b4565b820191906000526020600020905b81548152906001019060200180831161089757829003601f168201915b505050505090509450945094509450509193509193565b60006020819052908152604090208054600182015460028301546003840180546001600160a01b0390941694929391929161090590610d30565b80601f016020809104026020016040519081016040528092919081815260200182805461093190610d30565b801561097e5780601f106109535761010080835404028352916020019161097e565b820191906000526020600020905b81548152906001019060200180831161096157829003601f168201915b50505050509080600401805461099390610d30565b80601f01602080910402602001604051908101604052809291908181526020018280546109bf90610d30565b8015610a0c5780601f106109e157610100808354040283529160200191610a0c565b820191906000526020600020905b8154815290600101906020018083116109ef57829003601f168201915b5050505050905085565b60006020841015610a2957506000610561565b506001949350505050565b600060208284031215610a4657600080fd5b5035919050565b60008060008060608587031215610a6357600080fd5b8435935060208501359250604085013567ffffffffffffffff80821115610a8957600080fd5b818701915087601f830112610a9d57600080fd5b813581811115610aac57600080fd5b886020828501011115610abe57600080fd5b95989497505060200194505050565b6000815180845260005b81811015610af357602081850181015186830182015201610ad7565b506000602082860101526020601f19601f83011685010191505092915050565b602081526000610b266020830184610acd565b9392505050565b600060208284031215610b3f57600080fd5b81356001600160a01b0381168114610b2657600080fd5b634e487b7160e01b600052604160045260246000fd5b600082601f830112610b7d57600080fd5b813567ffffffffffffffff80821115610b9857610b98610b56565b604051601f8301601f19908116603f01168101908282118183101715610bc057610bc0610b56565b81604052838152866020858801011115610bd957600080fd5b836020870160208301376000602085830101528094505050505092915050565b600080600060608486031215610c0e57600080fd5b833567ffffffffffffffff80821115610c2657600080fd5b610c3287838801610b6c565b94506020860135915080821115610c4857600080fd5b50610c5586828701610b6c565b925050604084013590509250925092565b60018060a01b0385168152836020820152826040820152608060608201526000610c936080830184610acd565b9695505050505050565b60018060a01b038616815284602082015283604082015260a060608201526000610cca60a0830185610acd565b8281036080840152610cdc8185610acd565b98975050505050505050565b634e487b7160e01b600052601160045260246000fd5b80820180821115610d1157610d11610ce8565b92915050565b600060018201610d2957610d29610ce8565b5060010190565b600181811c90821680610d4457607f821691505b602082108103610d6457634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610db457600081815260208120601f850160051c81016020861015610d915750805b601f850160051c820191505b81811015610db057828155600101610d9d565b5050505b505050565b815167ffffffffffffffff811115610dd357610dd3610b56565b610de781610de18454610d30565b84610d6a565b602080601f831160018114610e1c5760008415610e045750858301515b600019600386901b1c1916600185901b178555610db0565b600085815260208120601f198616915b82811015610e4b57888601518255948401946001909101908401610e2c565b5085821015610e695787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea26469706673582212209eaa0a314324d646b3106cb6129f5c0d22d175fdf81aa43234a09e7abb846bb764736f6c63430008140033",
  "deployedBytecode": "0x6080604052600436106100c25760003560e01c806385c3ab541161007f578063b73c6ce911610059578063b73c6ce914610222578063bd85d86714610237578063edcfafe614610267578063fa3c30a81461029857600080fd5b806385c3ab54146101d1578063ad9f20a6146101e7578063afe545e51461020257600080fd5b806301c11d96146100c75780630ebf1d3d146100f657806322dc7b4c1461010b5780634b27cd6f1461014b57806365e9dcca1461017b578063804396af1461019b575b600080fd5b3480156100d357600080fd5b506100e367016345785d8a000081565b6040519081526020015b60405180910390f35b34801561010257600080fd5b506003546100e3565b34801561011757600080fd5b5061013b610126366004610a34565b60009081526001602052604090205460ff1690565b60405190151581526020016100ed565b34801561015757600080fd5b5061013b610166366004610a34565b60016020526000908152604090205460ff1681565b61018e610189366004610a4d565b6102c5565b6040516100ed9190610b13565b3480156101a757600080fd5b506100e36101b6366004610b2d565b6001600160a01b031660009081526002602052604090205490565b3480156101dd57600080fd5b506100e360035481565b3480156101f357600080fd5b506100e3662386f26fc1000081565b34801561020e57600080fd5b506100e361021d366004610bf9565b610569565b34801561022e57600080fd5b506100e36106c5565b34801561024357600080fd5b50610257610252366004610a34565b6107f6565b6040516100ed9493929190610c66565b34801561027357600080fd5b50610287610282366004610a34565b6108cb565b6040516100ed959493929190610c9d565b3480156102a457600080fd5b506100e36102b3366004610b2d565b60026020526000908152604090205481565b60008381526001602052604090205460609060ff16156103465760405162461bcd60e51b815260206004820152603160248201527f4e756c6c696669657220616c72656164792075736564202861727469636c6520604482015270616c726561647920756e6c6f636b65642960781b60648201526084015b60405180910390fd5b600085815260208190526040902080546001600160a01b03166103a45760405162461bcd60e51b8152602060048201526016602482015275105c9d1a58db1948191bd95cc81b9bdd08195e1a5cdd60521b604482015260640161033d565b80600101543410156103ef5760405162461bcd60e51b8152602060048201526014602482015273125b9cdd59999a58da595b9d081c185e5b595b9d60621b604482015260640161033d565b6103fb84848888610a16565b6104475760405162461bcd60e51b815260206004820152601c60248201527f496e76616c6964207a65726f2d6b6e6f776c656467652070726f6f6600000000604482015260640161033d565b6000858152600160208181526040808420805460ff191690931790925583546001600160a01b031683526002905281208054349290610487908490610cfe565b909155505060028101805490600061049e83610d17565b9091555050604051859087907fa8f0dd4c86d6fa5b52e5ddd9b91a8e742d96e29ac64185df467cec99a1e7a90690600090a38060040180546104df90610d30565b80601f016020809104026020016040519081016040528092919081815260200182805461050b90610d30565b80156105585780601f1061052d57610100808354040283529160200191610558565b820191906000526020600020905b81548152906001019060200180831161053b57829003601f168201915b50505050509150505b949350505050565b6000662386f26fc10000821015801561058a575067016345785d8a00008211155b6105e65760405162461bcd60e51b815260206004820152602760248201527f5072696365206d757374206265206265747765656e20302e303120616e64203060448201526605c6260408aa8960cb1b606482015260840161033d565b60038054600091826105f783610d17565b909155506040805160a08101825233815260208082018781526000838501818152606085018c8152608086018c905287835293829052949020835181546001600160a01b0319166001600160a01b0390911617815590516001820155925160028401555192935091600382019061066e9082610db9565b50608082015160048201906106839082610db9565b505060405184815233915082907ff14213347fd705a3c6a16d98e378b1628ccf34a36aee29f2aa34a653aa027c629060200160405180910390a3949350505050565b33600090815260026020526040812054806107225760405162461bcd60e51b815260206004820152601760248201527f4e6f206561726e696e677320746f207769746864726177000000000000000000604482015260640161033d565b336000818152600260205260408082208290555190919083908381818185875af1925050503d8060008114610773576040519150601f19603f3d011682016040523d82523d6000602084013e610778565b606091505b50509050806107bb5760405162461bcd60e51b815260206004820152600f60248201526e151c985b9cd9995c8819985a5b1959608a1b604482015260640161033d565b60405182815233907f48dc35af7b45e2a81fffad55f6e2fafacdb1d3d0d50d24ebdc16324f5ba757f19060200160405180910390a250919050565b60008181526020819052604081208054600182015460028301546003840180548695869560609591946001600160a01b03909116939192909190819061083b90610d30565b80601f016020809104026020016040519081016040528092919081815260200182805461086790610d30565b80156108b45780601f10610889576101008083540402835291602001916108b4565b820191906000526020600020905b81548152906001019060200180831161089757829003601f168201915b505050505090509450945094509450509193509193565b60006020819052908152604090208054600182015460028301546003840180546001600160a01b0390941694929391929161090590610d30565b80601f016020809104026020016040519081016040528092919081815260200182805461093190610d30565b801561097e5780601f106109535761010080835404028352916020019161097e565b820191906000526020600020905b81548152906001019060200180831161096157829003601f168201915b50505050509080600401805461099390610d30565b80601f01602080910402602001604051908101604052809291908181526020018280546109bf90610d30565b8015610a0c5780601f106109e157610100808354040283529160200191610a0c565b820191906000526020600020905b8154815290600101906020018083116109ef57829003601f168201915b5050505050905085565b60006020841015610a2957506000610561565b506001949350505050565b600060208284031215610a4657600080fd5b5035919050565b60008060008060608587031215610a6357600080fd5b8435935060208501359250604085013567ffffffffffffffff80821115610a8957600080fd5b818701915087601f830112610a9d57600080fd5b813581811115610aac57600080fd5b886020828501011115610abe57600080fd5b95989497505060200194505050565b6000815180845260005b81811015610af357602081850181015186830182015201610ad7565b506000602082860101526020601f19601f83011685010191505092915050565b602081526000610b266020830184610acd565b9392505050565b600060208284031215610b3f57600080fd5b81356001600160a01b0381168114610b2657600080fd5b634e487b7160e01b600052604160045260246000fd5b600082601f830112610b7d57600080fd5b813567ffffffffffffffff80821115610b9857610b98610b56565b604051601f8301601f19908116603f01168101908282118183101715610bc057610bc0610b56565b81604052838152866020858801011115610bd957600080fd5b836020870160208301376000602085830101528094505050505092915050565b600080600060608486031215610c0e57600080fd5b833567ffffffffffffffff80821115610c2657600080fd5b610c3287838801610b6c565b94506020860135915080821115610c4857600080fd5b50610c5586828701610b6c565b925050604084013590509250925092565b60018060a01b0385168152836020820152826040820152608060608201526000610c936080830184610acd565b9695505050505050565b60018060a01b038616815284602082015283604082015260a060608201526000610cca60a0830185610acd565b8281036080840152610cdc8185610acd565b98975050505050505050565b634e487b7160e01b600052601160045260246000fd5b80820180821115610d1157610d11610ce8565b92915050565b600060018201610d2957610d29610ce8565b5060010190565b600181811c90821680610d4457607f821691505b602082108103610d6457634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610db457600081815260208120601f850160051c81016020861015610d915750805b601f850160051c820191505b81811015610db057828155600101610d9d565b5050505b505050565b815167ffffffffffffffff811115610dd357610dd3610b56565b610de781610de18454610d30565b84610d6a565b602080601f831160018114610e1c5760008415610e045750858301515b600019600386901b1c1916600185901b178555610db0565b600085815260208120601f198616915b82811015610e4b57888601518255948401946001909101908401610e2c565b5085821015610e695787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea26469706673582212209eaa0a314324d646b3106cb6129f5c0d22d175fdf81aa43234a09e7abb846bb764736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
