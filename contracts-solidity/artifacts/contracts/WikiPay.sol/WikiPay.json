{
  "_format": "hh-sol-artifact-1",
  "contractName": "WikiPay",
  "sourceName": "contracts/WikiPay.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "ArticlePublished",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "reader",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "ArticleUnlocked",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "articles",
      "outputs": [
        {
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "preview",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "unlocks",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "creatorEarnings",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        }
      ],
      "name": "getArticle",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "ipfsHash",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "preview",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "price",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "creator",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "unlocks",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            }
          ],
          "internalType": "struct WikiPay.Article",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        }
      ],
      "name": "getCreatorEarnings",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        }
      ],
      "name": "getIpfsHash",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        }
      ],
      "name": "getPreview",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        }
      ],
      "name": "getPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTotalArticles",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "preview",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "publishArticle",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalArticles",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        }
      ],
      "name": "unlockArticle",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "withdrawEarnings",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610f87806100206000396000f3fe6080604052600436106100a75760003560e01c8063bd85d86711610064578063bd85d8671461017d578063bef2e1ee146101aa578063d450fbc9146101c0578063e7572230146101e0578063edcfafe614610200578063fa3c30a81461023257600080fd5b80630ebf1d3d146100ac5780631037c31a146100d0578063804396af146100e55780638d617c1c1461011b578063afe545e514610148578063b73c6ce914610168575b600080fd5b3480156100b857600080fd5b506002545b6040519081526020015b60405180910390f35b6100e36100de366004610b11565b61025f565b005b3480156100f157600080fd5b506100bd610100366004610b2a565b6001600160a01b031660009081526001602052604090205490565b34801561012757600080fd5b5061013b610136366004610b11565b61036a565b6040516100c79190610ba0565b34801561015457600080fd5b506100bd610163366004610bfc565b61042e565b34801561017457600080fd5b506100e361067c565b34801561018957600080fd5b5061019d610198366004610b11565b610776565b6040516100c79190610c70565b3480156101b657600080fd5b506100bd60025481565b3480156101cc57600080fd5b5061013b6101db366004610b11565b61094d565b3480156101ec57600080fd5b506100bd6101fb366004610b11565b610989565b34801561020c57600080fd5b5061022061021b366004610b11565b6109c2565b6040516100c796959493929190610ce6565b34801561023e57600080fd5b506100bd61024d366004610b2a565b60016020526000908152604090205481565b60025481106102895760405162461bcd60e51b815260040161028090610d3a565b60405180910390fd5b600081815260208190526040902060028101543410156102e25760405162461bcd60e51b8152602060048201526014602482015273125b9cdd59999a58da595b9d081c185e5b595b9d60621b6044820152606401610280565b60038101546001600160a01b03166000908152600160205260408120805434929061030e908490610d80565b909155505060048101805490600061032583610d99565b909155505060408051348152426020820152339184917f7d10156e5872f1634d09523082fd882e15c3681f5a4d2c49a83a399102a505ff910160405180910390a35050565b6060600254821061038d5760405162461bcd60e51b815260040161028090610d3a565b600082815260208190526040902060010180546103a990610db2565b80601f01602080910402602001604051908101604052809291908181526020018280546103d590610db2565b80156104225780601f106103f757610100808354040283529160200191610422565b820191906000526020600020905b81548152906001019060200180831161040557829003601f168201915b50505050509050919050565b6000846104725760405162461bcd60e51b815260206004820152601260248201527112541194c81a185cda081c995c5d5a5c995960721b6044820152606401610280565b826104b25760405162461bcd60e51b815260206004820152601060248201526f141c995d9a595dc81c995c5d5a5c995960821b6044820152606401610280565b600082116105025760405162461bcd60e51b815260206004820152601c60248201527f5072696365206d7573742062652067726561746572207468616e2030000000006044820152606401610280565b6002546040805160e06020601f8a01819004028201810190925260c0810188815290918291908a908a9081908501838280828437600092019190915250505090825250604080516020601f8901819004810282018101909252878152918101919088908890819084018382808284376000920182905250938552505050602080830187905233604080850191909152606084018390524260809094019390935284825281905220815181906105b79082610e51565b50602082015160018201906105cc9082610e51565b50604082015160028281019190915560608301516003830180546001600160a01b0319166001600160a01b039092169190911790556080830151600483015560a090920151600590910155805490600061062583610d99565b9190505550336001600160a01b0316817f523d5ddc8dfee227e7521c33683f418cd9b5770178a996de6111e4dd72945b228989874260405161066a9493929190610f11565b60405180910390a39695505050505050565b33600090815260016020526040902054806106d95760405162461bcd60e51b815260206004820152601760248201527f4e6f206561726e696e677320746f2077697468647261770000000000000000006044820152606401610280565b336000818152600160205260408082208290555190919083908381818185875af1925050503d806000811461072a576040519150601f19603f3d011682016040523d82523d6000602084013e61072f565b606091505b50509050806107725760405162461bcd60e51b815260206004820152600f60248201526e151c985b9cd9995c8819985a5b1959608a1b6044820152606401610280565b5050565b6107b86040518060c0016040528060608152602001606081526020016000815260200160006001600160a01b0316815260200160008152602001600081525090565b60025482106107d95760405162461bcd60e51b815260040161028090610d3a565b60008281526020819052604090819020815160c0810190925280548290829061080190610db2565b80601f016020809104026020016040519081016040528092919081815260200182805461082d90610db2565b801561087a5780601f1061084f5761010080835404028352916020019161087a565b820191906000526020600020905b81548152906001019060200180831161085d57829003601f168201915b5050505050815260200160018201805461089390610db2565b80601f01602080910402602001604051908101604052809291908181526020018280546108bf90610db2565b801561090c5780601f106108e15761010080835404028352916020019161090c565b820191906000526020600020905b8154815290600101906020018083116108ef57829003601f168201915b50505091835250506002820154602082015260038201546001600160a01b031660408201526004820154606082015260059091015460809091015292915050565b606060025482106109705760405162461bcd60e51b815260040161028090610d3a565b600082815260208190526040902080546103a990610db2565b600060025482106109ac5760405162461bcd60e51b815260040161028090610d3a565b5060009081526020819052604090206002015490565b6000602081905290815260409020805481906109dd90610db2565b80601f0160208091040260200160405190810160405280929190818152602001828054610a0990610db2565b8015610a565780601f10610a2b57610100808354040283529160200191610a56565b820191906000526020600020905b815481529060010190602001808311610a3957829003601f168201915b505050505090806001018054610a6b90610db2565b80601f0160208091040260200160405190810160405280929190818152602001828054610a9790610db2565b8015610ae45780601f10610ab957610100808354040283529160200191610ae4565b820191906000526020600020905b815481529060010190602001808311610ac757829003601f168201915b50505050600283015460038401546004850154600590950154939491936001600160a01b03909116925086565b600060208284031215610b2357600080fd5b5035919050565b600060208284031215610b3c57600080fd5b81356001600160a01b0381168114610b5357600080fd5b9392505050565b6000815180845260005b81811015610b8057602081850181015186830182015201610b64565b506000602082860101526020601f19601f83011685010191505092915050565b602081526000610b536020830184610b5a565b60008083601f840112610bc557600080fd5b50813567ffffffffffffffff811115610bdd57600080fd5b602083019150836020828501011115610bf557600080fd5b9250929050565b600080600080600060608688031215610c1457600080fd5b853567ffffffffffffffff80821115610c2c57600080fd5b610c3889838a01610bb3565b90975095506020880135915080821115610c5157600080fd5b50610c5e88828901610bb3565b96999598509660400135949350505050565b602081526000825160c06020840152610c8c60e0840182610b5a565b90506020840151601f19848303016040850152610ca98282610b5a565b9150506040840151606084015260018060a01b036060850151166080840152608084015160a084015260a084015160c08401528091505092915050565b60c081526000610cf960c0830189610b5a565b8281036020840152610d0b8189610b5a565b604084019790975250506001600160a01b03939093166060840152608083019190915260a09091015292915050565b602080825260169082015275105c9d1a58db1948191bd95cc81b9bdd08195e1a5cdd60521b604082015260600190565b634e487b7160e01b600052601160045260246000fd5b80820180821115610d9357610d93610d6a565b92915050565b600060018201610dab57610dab610d6a565b5060010190565b600181811c90821680610dc657607f821691505b602082108103610de657634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fd5b601f821115610e4c57600081815260208120601f850160051c81016020861015610e295750805b601f850160051c820191505b81811015610e4857828155600101610e35565b5050505b505050565b815167ffffffffffffffff811115610e6b57610e6b610dec565b610e7f81610e798454610db2565b84610e02565b602080601f831160018114610eb45760008415610e9c5750858301515b600019600386901b1c1916600185901b178555610e48565b600085815260208120601f198616915b82811015610ee357888601518255948401946001909101908401610ec4565b5085821015610f015787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b606081528360608201528385608083013760006080858301015260006080601f19601f87011683010190508360208301528260408301529594505050505056fea2646970667358221220745c8adaebdea6fdab2fd0821219b9aa440d12eafefbf48471cf6a753b377e2364736f6c63430008140033",
  "deployedBytecode": "0x6080604052600436106100a75760003560e01c8063bd85d86711610064578063bd85d8671461017d578063bef2e1ee146101aa578063d450fbc9146101c0578063e7572230146101e0578063edcfafe614610200578063fa3c30a81461023257600080fd5b80630ebf1d3d146100ac5780631037c31a146100d0578063804396af146100e55780638d617c1c1461011b578063afe545e514610148578063b73c6ce914610168575b600080fd5b3480156100b857600080fd5b506002545b6040519081526020015b60405180910390f35b6100e36100de366004610b11565b61025f565b005b3480156100f157600080fd5b506100bd610100366004610b2a565b6001600160a01b031660009081526001602052604090205490565b34801561012757600080fd5b5061013b610136366004610b11565b61036a565b6040516100c79190610ba0565b34801561015457600080fd5b506100bd610163366004610bfc565b61042e565b34801561017457600080fd5b506100e361067c565b34801561018957600080fd5b5061019d610198366004610b11565b610776565b6040516100c79190610c70565b3480156101b657600080fd5b506100bd60025481565b3480156101cc57600080fd5b5061013b6101db366004610b11565b61094d565b3480156101ec57600080fd5b506100bd6101fb366004610b11565b610989565b34801561020c57600080fd5b5061022061021b366004610b11565b6109c2565b6040516100c796959493929190610ce6565b34801561023e57600080fd5b506100bd61024d366004610b2a565b60016020526000908152604090205481565b60025481106102895760405162461bcd60e51b815260040161028090610d3a565b60405180910390fd5b600081815260208190526040902060028101543410156102e25760405162461bcd60e51b8152602060048201526014602482015273125b9cdd59999a58da595b9d081c185e5b595b9d60621b6044820152606401610280565b60038101546001600160a01b03166000908152600160205260408120805434929061030e908490610d80565b909155505060048101805490600061032583610d99565b909155505060408051348152426020820152339184917f7d10156e5872f1634d09523082fd882e15c3681f5a4d2c49a83a399102a505ff910160405180910390a35050565b6060600254821061038d5760405162461bcd60e51b815260040161028090610d3a565b600082815260208190526040902060010180546103a990610db2565b80601f01602080910402602001604051908101604052809291908181526020018280546103d590610db2565b80156104225780601f106103f757610100808354040283529160200191610422565b820191906000526020600020905b81548152906001019060200180831161040557829003601f168201915b50505050509050919050565b6000846104725760405162461bcd60e51b815260206004820152601260248201527112541194c81a185cda081c995c5d5a5c995960721b6044820152606401610280565b826104b25760405162461bcd60e51b815260206004820152601060248201526f141c995d9a595dc81c995c5d5a5c995960821b6044820152606401610280565b600082116105025760405162461bcd60e51b815260206004820152601c60248201527f5072696365206d7573742062652067726561746572207468616e2030000000006044820152606401610280565b6002546040805160e06020601f8a01819004028201810190925260c0810188815290918291908a908a9081908501838280828437600092019190915250505090825250604080516020601f8901819004810282018101909252878152918101919088908890819084018382808284376000920182905250938552505050602080830187905233604080850191909152606084018390524260809094019390935284825281905220815181906105b79082610e51565b50602082015160018201906105cc9082610e51565b50604082015160028281019190915560608301516003830180546001600160a01b0319166001600160a01b039092169190911790556080830151600483015560a090920151600590910155805490600061062583610d99565b9190505550336001600160a01b0316817f523d5ddc8dfee227e7521c33683f418cd9b5770178a996de6111e4dd72945b228989874260405161066a9493929190610f11565b60405180910390a39695505050505050565b33600090815260016020526040902054806106d95760405162461bcd60e51b815260206004820152601760248201527f4e6f206561726e696e677320746f2077697468647261770000000000000000006044820152606401610280565b336000818152600160205260408082208290555190919083908381818185875af1925050503d806000811461072a576040519150601f19603f3d011682016040523d82523d6000602084013e61072f565b606091505b50509050806107725760405162461bcd60e51b815260206004820152600f60248201526e151c985b9cd9995c8819985a5b1959608a1b6044820152606401610280565b5050565b6107b86040518060c0016040528060608152602001606081526020016000815260200160006001600160a01b0316815260200160008152602001600081525090565b60025482106107d95760405162461bcd60e51b815260040161028090610d3a565b60008281526020819052604090819020815160c0810190925280548290829061080190610db2565b80601f016020809104026020016040519081016040528092919081815260200182805461082d90610db2565b801561087a5780601f1061084f5761010080835404028352916020019161087a565b820191906000526020600020905b81548152906001019060200180831161085d57829003601f168201915b5050505050815260200160018201805461089390610db2565b80601f01602080910402602001604051908101604052809291908181526020018280546108bf90610db2565b801561090c5780601f106108e15761010080835404028352916020019161090c565b820191906000526020600020905b8154815290600101906020018083116108ef57829003601f168201915b50505091835250506002820154602082015260038201546001600160a01b031660408201526004820154606082015260059091015460809091015292915050565b606060025482106109705760405162461bcd60e51b815260040161028090610d3a565b600082815260208190526040902080546103a990610db2565b600060025482106109ac5760405162461bcd60e51b815260040161028090610d3a565b5060009081526020819052604090206002015490565b6000602081905290815260409020805481906109dd90610db2565b80601f0160208091040260200160405190810160405280929190818152602001828054610a0990610db2565b8015610a565780601f10610a2b57610100808354040283529160200191610a56565b820191906000526020600020905b815481529060010190602001808311610a3957829003601f168201915b505050505090806001018054610a6b90610db2565b80601f0160208091040260200160405190810160405280929190818152602001828054610a9790610db2565b8015610ae45780601f10610ab957610100808354040283529160200191610ae4565b820191906000526020600020905b815481529060010190602001808311610ac757829003601f168201915b50505050600283015460038401546004850154600590950154939491936001600160a01b03909116925086565b600060208284031215610b2357600080fd5b5035919050565b600060208284031215610b3c57600080fd5b81356001600160a01b0381168114610b5357600080fd5b9392505050565b6000815180845260005b81811015610b8057602081850181015186830182015201610b64565b506000602082860101526020601f19601f83011685010191505092915050565b602081526000610b536020830184610b5a565b60008083601f840112610bc557600080fd5b50813567ffffffffffffffff811115610bdd57600080fd5b602083019150836020828501011115610bf557600080fd5b9250929050565b600080600080600060608688031215610c1457600080fd5b853567ffffffffffffffff80821115610c2c57600080fd5b610c3889838a01610bb3565b90975095506020880135915080821115610c5157600080fd5b50610c5e88828901610bb3565b96999598509660400135949350505050565b602081526000825160c06020840152610c8c60e0840182610b5a565b90506020840151601f19848303016040850152610ca98282610b5a565b9150506040840151606084015260018060a01b036060850151166080840152608084015160a084015260a084015160c08401528091505092915050565b60c081526000610cf960c0830189610b5a565b8281036020840152610d0b8189610b5a565b604084019790975250506001600160a01b03939093166060840152608083019190915260a09091015292915050565b602080825260169082015275105c9d1a58db1948191bd95cc81b9bdd08195e1a5cdd60521b604082015260600190565b634e487b7160e01b600052601160045260246000fd5b80820180821115610d9357610d93610d6a565b92915050565b600060018201610dab57610dab610d6a565b5060010190565b600181811c90821680610dc657607f821691505b602082108103610de657634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fd5b601f821115610e4c57600081815260208120601f850160051c81016020861015610e295750805b601f850160051c820191505b81811015610e4857828155600101610e35565b5050505b505050565b815167ffffffffffffffff811115610e6b57610e6b610dec565b610e7f81610e798454610db2565b84610e02565b602080601f831160018114610eb45760008415610e9c5750858301515b600019600386901b1c1916600185901b178555610e48565b600085815260208120601f198616915b82811015610ee357888601518255948401946001909101908401610ec4565b5085821015610f015787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b606081528360608201528385608083013760006080858301015260006080601f19601f87011683010190508360208301528260408301529594505050505056fea2646970667358221220745c8adaebdea6fdab2fd0821219b9aa440d12eafefbf48471cf6a753b377e2364736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
